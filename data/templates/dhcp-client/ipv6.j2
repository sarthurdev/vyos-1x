### Autogenerated by interface.py ###

allowinterfaces {{ ifname }}

noipv6rs
noup

{% if dhcpv6_options.duid is vyos_defined %}
    clientid {{ dhcpv6_options.duid }}
    duid
{% endif %}

{% if address is vyos_defined and 'dhcpv6' in address %}
    require domain-name-servers
    require domain-name

{%     if dhcpv6_options.parameters_only is vyos_defined %}
    inform6
{%     endif %}
{%     if dhcpv6_options.temporary is not vyos_defined %}
    ia_na 0
{%     endif %}
{%     if dhcpv6_options.rapid_commit is vyos_defined %}
    option rapid_commit
{%     endif %}
{% endif %}

{% if dhcpv6_options.pd is vyos_defined %}
{%     for pd, pd_config in dhcpv6_options.pd.items() %}
{%         set sla_len = 64 - pd_config.length | int %}
{%         set ns = namespace(interfaces=[]) %}
{%         if pd_config.interface is vyos_defined %}
{%             for interface, interface_config in pd_config.interface.items() %}
{%                 set if_str = interface | pd_interface(interface_config, sla_len, loop.index0) %}
{%                 set ns.interfaces = ns.interfaces + [if_str] %}
{%             endfor %}
{%         endif %}
    ia_pd {{ pd }}/::/{{ pd_config.length }} {{ ns.interfaces | join(" ") }}
{%     endfor %}
{% endif %}
